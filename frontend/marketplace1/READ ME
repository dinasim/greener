# Greener App: Facebook Marketplace Style Implementation

## Overview

We've transformed the Greener app from an e-commerce style marketplace to a peer-to-peer marketplace similar to Facebook Marketplace. The key differences include:

1. **Focus on Local Sales**: Emphasizing local pickups and meetups rather than shipping
2. **Direct Communication**: Added robust messaging between buyers and sellers
3. **Location-Based**: Added location information to plant listings and seller profiles
4. **Simplified Process**: Removed shopping cart and checkout functionality
5. **Social Elements**: Added seller profiles and review systems

## Key Files Implemented

1. **PlantCard.js**: Shows plant listings with location and seller info
2. **MarketplaceScreen.js**: Main marketplace view with floating action button to add new listings
3. **PlantDetailScreen.js**: Detailed view with contact seller button, location info, safety tips
4. **AddPlantScreen.js**: Form to create new plant listings with location options
5. **MessagesScreen.js**: Chat interface for buyer-seller communication
6. **SellerProfileScreen.js**: Detailed seller profile with ratings and all listings
7. **FavoritesScreen.js**: Saved plant listings for easy access
8. **MarketplaceNavigator.js**: Navigation structure for the marketplace section
9. **marketplaceApi.js**: API service for marketplace functionality with Azure Functions

## User Flow

1. **Browse Plants**: Users can browse plant listings on the marketplace
2. **Add Listing**: Users can list their plants for sale with photos, description, care info, and location
3. **View Details**: Users can see detailed information about a plant and its seller
4. **Save Plants**: Users can save plants they're interested in for later
5. **Message Seller**: Direct communication between buyers and sellers
6. **Arrange Meetups**: Users can discuss pickup arrangements through the chat
7. **View Seller Profile**: See other listings from the same seller and their ratings

## Implementation Notes

1. **Location Services**: Added location-based functionality using expo-location
2. **Messaging**: Implemented real-time messaging with Azure SignalR integration
3. **Profile System**: Created seller profiles with ratings and reviews
4. **Safety Features**: Added safety tips for in-person meetings
5. **UI Improvements**: Enhanced with location pills, status indicators, and meetup options

## Backend Services (Azure)

1. **Azure Functions**: For all API endpoints (plants, sellers, messages, favorites)
2. **Cosmos DB**: For database storage
3. **Azure SignalR**: For real-time messaging
4. **Azure Blob Storage**: For image storage
This implementation transforms # Greener App: Facebook Marketplace Style Implementation

## Overview

We've transformed the Greener app from an e-commerce style marketplace to a peer-to-peer marketplace similar to Facebook Marketplace. The key differences include:

1. **Focus on Local Sales**: Emphasizing local pickups and meetups rather than shipping
2. **Direct Communication**: Added robust messaging between buyers and sellers
3. **Location-Based**: Added location information to plant listings and seller profiles
4. **Simplified Process**: Removed shopping cart and checkout functionality
5. **Social Elements**: Added seller profiles and review systems

## Key Files Implemented

1. **PlantCard.js**: Shows plant listings with location and seller info
2. **MarketplaceScreen.js**: Main marketplace view with floating action button to add new listings
3. **PlantDetailScreen.js**: Detailed view with contact seller button, location info, safety tips
4. **AddPlantScreen.js**: Form to create new plant listings with location options
5. **MessagesScreen.js**: Chat interface for buyer-seller communication
6. **SellerProfileScreen.js**: Detailed seller profile with ratings and all listings
7. **FavoritesScreen.js**: Saved plant listings for easy access
8. **MarketplaceNavigator.js**: Navigation structure for the marketplace section
9. **marketplaceApi.js**: API service for marketplace functionality with Azure Functions

## User Flow

1. **Browse Plants**: Users can browse plant listings on the marketplace
2. **Add Listing**: Users can list their plants for sale with photos, description, care info, and location
3. **View Details**: Users can see detailed information about a plant and its seller
4. **Save Plants**: Users can save plants they're interested in for later
5. **Message Seller**: Direct communication between buyers and sellers
6. **Arrange Meetups**: Users can discuss pickup arrangements through the chat
7. **View Seller Profile**: See other listings from the same seller and their ratings

## Implementation Notes

1. **Location Services**: Added location-based functionality using expo-location
2. **Messaging**: Implemented real-time messaging with Azure SignalR integration
3. **Profile System**: Created seller profiles with ratings and reviews
4. **Safety Features**: Added safety tips for in-person meetings
5. **UI Improvements**: Enhanced with location pills, status indicators, and meetup options

## Backend Services

1. **Azure Functions**: For all API endpoints (plants, sellers, messages, favorites)
2. **Cosmos DB**: For database storage
3. **Azure SignalR**: For real-time messaging
4. **Azure Blob Storage**: For image storage
5. **Google Sign-In**: For user authentication
   - Implemented via Expo Auth Session
   - Token verification handled by Azure Functions
   - User profiles stored in Cosmos DB

## Authentication Flow

1. User initiates Google Sign-In via the Expo Auth Session API
2. Google returns an access token after successful authentication
3. The token is sent to an Azure Function (`googleauth` endpoint)
4. The Azure Function verifies the token with Google
5. User information is stored/updated in Cosmos DB
6. A session token is returned to the app
7. The app stores this token for authenticated requests

This implementation transforms the Greener app into a community marketplace for plant enthusiasts to buy and sell plants locally, more aligned with the Facebook Marketplace model than a traditional e-commerce solution.the Greener app into a community marketplace for plant enthusiasts to buy and sell plants locally, more aligned with the Facebook Marketplace model than a traditional e-commerce solution.